---
import Layout from '../../layouts/Layout.astro';
import AdminNav from '../../components/AdminNav.astro';

// Get user from cookies and verify admin role
const userCookie = Astro.cookies.get('user');
let user = null;
try {
  user = userCookie ? JSON.parse(userCookie.value) : null;
} catch (error) {
  console.error('Error parsing user cookie:', error);
}

if (!user || user.role !== 'admin') {
  return Astro.redirect('/login');
}
---

<Layout title="Admin Dashboard">
  <AdminNav currentPath="/admin" />
  
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-2xl font-bold text-gray-900 mb-8">Admin Dashboard</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <a href="/admin/board" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h2 class="text-xl font-semibold text-primary-700 mb-2">Board Members</h2>
        <p class="text-gray-600">Manage TAPT board member information and positions</p>
        <ul class="mt-4 text-sm text-gray-500">
          <li>• Add new board members</li>
          <li>• Update existing members</li>
          <li>• Manage contact information</li>
        </ul>
      </a>
      
      <a href="/admin/conferences" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h2 class="text-xl font-semibold text-primary-700 mb-2">Conferences</h2>
        <p class="text-gray-600">Manage conference details and registrations</p>
        <ul class="mt-4 text-sm text-gray-500">
          <li>• Create new conferences</li>
          <li>• Update conference details</li>
          <li>• View registrations</li>
        </ul>
      </a>

      <a href="/admin/nominations" class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
        <h2 class="text-xl font-semibold text-primary-700 mb-2">Hall of Fame</h2>
        <p class="text-gray-600">Review and manage Hall of Fame nominations</p>
        <ul class="mt-4 text-sm text-gray-500">
          <li>• View nominations</li>
          <li>• Review submissions</li>
          <li>• Manage inductees</li>
        </ul>
      </a>
    </div>
  </div>
</Layout>