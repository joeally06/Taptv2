---
import Layout from '../layouts/Layout.astro';
import { createClient } from '@libsql/client';

const db = createClient({
  url: 'file:conference.db'
});

// Fetch hall of fame members from database
const result = await db.execute(`
  SELECT * FROM hall_of_fame_members 
  ORDER BY induction_year DESC, name ASC
`);

const members = result.rows;
---

<Layout title="Hall of Fame">
  <div class="py-12 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h1 class="text-3xl font-bold text-primary-800 mb-4">Tennessee School Bus Driver Hall of Fame</h1>
          <div class="w-20 h-1 bg-accent-500 mx-auto mb-8"></div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-8 mb-12">
          <h2 class="text-2xl font-bold text-primary-700 mb-6">Statement of Purpose</h2>
          <div class="prose max-w-none">
            <p class="mb-4">
              The TAPT School Bus Driver Hall of Fame was created to recognize and honor Tennessee School Bus Drivers who have made outstanding contributions to their local school transportation department and who, by virtue of those contributions, are considered to be among the industry's most dedicated individuals.
            </p>
            <p class="mb-4">
              Induction into the TAPT Hall of Fame represents one of the highest honors that TAPT can bestow on an individual. Honorees must meet the highest standards of personal and professional integrity, including distinguished service to the school children in their school district.
            </p>
            <p>
              The nominee will have demonstrated an extraordinary commitment of time and energy to the safe transportation of our Tennessee school children.
            </p>
          </div>
        </div>

        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8">
          <p class="text-yellow-800">
            THE 2025 HALL-OF-FAME NOMINATION PROCESS IS COMPLETED AND CLOSED.
          </p>
        </div>

        <div class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-2xl font-bold text-primary-700 mb-6">Hall of Fame Members</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {members?.map(member => (
              <div class="border-b border-gray-200 last:border-b-0 py-4">
                <div class="p-2 -m-2">
                  <h3 class="text-lg font-semibold text-gray-800">{member.name}</h3>
                  <p class="text-gray-600">{member.district}</p>
                  {member.induction_year && (
                    <p class="text-sm text-gray-500">Inducted: {member.induction_year}</p>
                  )}
                  {member.bio && (
                    <p class="text-sm text-gray-600 mt-2">{member.bio}</p>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>